import{r as o,v as d,h as u}from"./main-01589982.js";import{u as P,a as M}from"./useQuery-2326dd90.js";var j=["refetch","reobserve","fetchMore","updateQuery","startPolling","subscribeToMore"];function F(g,a){var c=P(M(a&&a.client),g),e=o.useRef(),y=e.current?d(a,e.current):a,i=c.useQuery(u(u({},y),{skip:!e.current})),l=i.observable.options.initialFetchPolicy||c.getDefaultFetchPolicy(),s=Object.assign(i,{called:!!e.current}),f=o.useMemo(function(){for(var r={},n=function(h){var m=s[h];r[h]=function(){return e.current||(e.current=Object.create(null),c.forceUpdate()),m.apply(this,arguments)}},t=0,v=j;t<v.length;t++){var b=v[t];n(b)}return r},[]);Object.assign(s,f);var p=o.useCallback(function(r){e.current=r?u(u({},r),{fetchPolicy:r.fetchPolicy||l}):{fetchPolicy:l};var n=c.asyncUpdate().then(function(t){return Object.assign(t,f)});return n.catch(function(){}),n},[]);return[p,s]}export{F as u};
