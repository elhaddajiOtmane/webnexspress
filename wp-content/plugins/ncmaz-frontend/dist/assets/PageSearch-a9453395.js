import{j as t,r as P,N as a,a as g}from"./main-01589982.js";import{a as L,A as B,S as U}from"./ArchiveGridPost-cd33a26d.js";import{t as j}from"./twFocusClass-d0735f61.js";import{I as G}from"./Input-8cf5b968.js";import{N as F}from"./NcImage-befadaec.js";import{N as D,a as Q}from"./NavItem-016c6b8b.js";import{b as V,P as z,c as K,a as q,U as H}from"./queryGraphql-58383481.js";import{B as A}from"./ButtonPrimary-7b9ce8b4.js";import{D as w}from"./DataStatementBlockV2-5007f6a0.js";import{C as W,d as Y}from"./CardCategory5Skeleton-3bfb8c40.js";import{b as v,c as I}from"./useQuery-2326dd90.js";import{S as $}from"./index-0c588460.js";import{T as X}from"./Tag-82d8b167.js";import{C as Z,a as J}from"./CardAuthorBox2Skeleton-d7b48234.js";import"./NcModal-42d0aa76.js";import"./Button-d1fff97b.js";import"./ButtonClose-46908ee4.js";import"./transition-c5ae4969.js";import"./use-owner-4bb5aead.js";import"./dialog-c077491e.js";import"./useWindowSize-e7f502a5.js";import"./menu-8d10a083.js";import"./BackgroundSection-f1af2e57.js";import"./SectionGridCategoryBox-1942c42b.js";import"./CardCategory1Skeleton-a1084ba9.js";import"./Heading-8e8fa951.js";import"./NextPrev-10599e1e.js";import"./Card7Skeleton-375650e1.js";import"./Avatar-e46ae567.js";import"./contants-3c5f400b.js";import"./contantsCommon-3b0e63b7.js";import"./getImageSizesBySizeName-22c25ac1.js";import"./PostCardMeta-4fa2bae8.js";import"./formatDate-dfe39bf7.js";import"./PostTypeFeaturedIcon-f1f09999.js";import"./CategoryBadgeList-87f3b9ef.js";import"./Badge-126d3422.js";import"./SocialsShare-7f8eccda.js";import"./SocialShareItem-24d6d915.js";import"./PostCardLikeAndComment-fcd151a8.js";import"./PostCardLikeAction-813d8440.js";import"./PostCardDropdownShare-48c067a7.js";import"./NcDropDown-b9381a6a.js";import"./checkPostStandHasFeaturedImage-07d23d31.js";import"./CardAuthor2-e5d1b032.js";import"./PostFeaturedMedia-db84e141.js";import"./useIntersectionObserver-8d200e88.js";import"./index-b8b43c8a.js";import"./ButtonPlayMusicRunningContainer-80762dbc.js";import"./LoadingVideo-66b8164f.js";import"./Card10Skeleton-c1662d20.js";import"./Card11-37890797.js";import"./PostMoreActionDropdown-e7a59822.js";import"./ButtonPrimaryDanger-9c37c9e4.js";import"./ButtonSecondary-a2b42169.js";import"./Card11Skeleton-14ab7f45.js";import"./Card13Skeleton-d2aa466b.js";import"./Card17PodcastSkeleton-e6be3a38.js";import"./Card2Skeleton-881d2b5b.js";import"./Card6-91b25b63.js";import"./Card6Skeleton-4e59c3a1.js";import"./Card8Skeleton-efc87d91.js";import"./Card9-683ec8f1.js";import"./Card9Skeleton-d94b033f.js";import"./EmptyState-8d3ff74e.js";const M=({className:d=" ",size:u=" w-9 h-9 ",...b})=>t("button",{className:`ttnc-ButtonCircle flex items-center justify-center rounded-full !leading-none disabled:bg-opacity-70 bg-primary-6000 hover:bg-primary-700 text-neutral-50 ${d} ${u} `+j(!0),...b}),R=({searchText:d,onUpdateTotal:u})=>{const f=v`
    ${V}
  `;let p={first:20};d&&(p={first:20,search:d});const{loading:m,error:E,data:e,fetchMore:S}=I(f,{notifyOnNetworkStatusChange:!0,variables:p});P.useEffect(()=>{if(!(e!=null&&e.categories))return;const r=e.categories.pageInfo.hasNextPage?`${e==null?void 0:e.categories.edges.length}+ ${a.categories}`:`${e==null?void 0:e.categories.edges.length} ${a.categories}`;u(r)},[e]);const l=(r,{fetchMoreResult:i})=>{var x,c,N;return(x=i==null?void 0:i.categories)!=null&&x.edges.length?{...i,categories:{...i.categories,edges:[...(c=r==null?void 0:r.categories)==null?void 0:c.edges,...(N=i==null?void 0:i.categories)==null?void 0:N.edges]}}:r},h=()=>{if(!S)return;const r=e==null?void 0:e.categories.edges.map(i=>i.node.categoryId);S({variables:{exclude:r},updateQuery:l})},n=m&&!(e!=null&&e.categories.edges.length);return g("div",{className:"mt-8 lg:mt-10",children:[t(w,{data:(e==null?void 0:e.categories.edges)||[],isSkeleton:n,error:E}),g("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-x-2.5 gap-y-4 sm:gap-6 2xl:gap-8 ",children:[n&&Array.from("iiiiiiiiiiiiiiiiiiii").map((r,i)=>t(W,{},i)),((e==null?void 0:e.categories.edges)||[]).map(r=>t(Y,{taxonomy:r.node},r.node.id))]}),(e==null?void 0:e.categories.pageInfo.hasNextPage)&&t("div",{className:"flex justify-center mt-8 sm:mt-10 lg:mt-14",children:t(A,{loading:m,onClick:h,children:a.showMeMore})})]})},ee=({searchText:d,orderByState:u,onUpdateTotal:b})=>{var c,N;const f=((c=frontendObject.allSettings)==null?void 0:c.readingSettingsPostsPerPage)||20;let p={},m="";u?(m=z,p={order:"DESC",field:u,first:f,search:d}):(m=K,p={first:f,search:d});const E=v`
    ${m}
  `,{loading:e,error:S,data:l,fetchMore:h}=I(E,{notifyOnNetworkStatusChange:!0,variables:p});P.useEffect(()=>{var _;typeof((_=l==null?void 0:l.posts.pageInfo)==null?void 0:_.total)=="number"&&b(`${l==null?void 0:l.posts.edges.length} ${a.articles}`||`0 ${a.articles}`)},[l]);const n=(l==null?void 0:l.posts.edges)||[],r=(_,{fetchMoreResult:T})=>{var s,o,C;return(s=T==null?void 0:T.posts)!=null&&s.edges.length?{...T,posts:{...T.posts,edges:[...(o=_==null?void 0:_.posts)==null?void 0:o.edges,...(C=T==null?void 0:T.posts)==null?void 0:C.edges]}}:_},i=()=>{if(!h)return;const _=n.map(T=>T.node.postId);h({variables:{first:f,notIn:_},updateQuery:r})},x=e&&!n.length;return g("div",{className:"mt-8 lg:mt-10",children:[t(w,{className:"my-5",data:n,error:S,isSkeleton:x}),t(L,{className:"",is_skeleton:x,posts:n}),((N=l==null?void 0:l.posts.pageInfo)==null?void 0:N.hasNextPage)&&t("div",{className:"flex justify-center mt-8 sm:mt-10 lg:mt-14",children:t(A,{onClick:i,loading:e,children:a.showMeMore})})]})},te=({searchText:d,onUpdateTotal:u})=>{const f=v`
    ${q}
  `;let p={first:30};d&&(p={first:30,search:d});const{loading:m,error:E,data:e,fetchMore:S}=I(f,{notifyOnNetworkStatusChange:!0,variables:p});P.useEffect(()=>{if(!(e!=null&&e.tags))return;const r=e.tags.pageInfo.hasNextPage?`${e==null?void 0:e.tags.edges.length}+ ${a.tags}`:`${e==null?void 0:e.tags.edges.length} ${a.tags}`;u(r)},[e]);const l=(r,{fetchMoreResult:i})=>{var x,c,N;return(x=i==null?void 0:i.tags)!=null&&x.edges.length?{...i,tags:{...i.tags,edges:[...(c=r==null?void 0:r.tags)==null?void 0:c.edges,...(N=i==null?void 0:i.tags)==null?void 0:N.edges]}}:r},h=()=>{if(!S)return;const r=e==null?void 0:e.tags.edges.map(i=>i.node.tagId);S({variables:{exclude:r},updateQuery:l})},n=m&&!(e!=null&&e.tags.edges.length);return g("div",{className:"mt-8 lg:mt-10",children:[t(w,{data:(e==null?void 0:e.tags.edges)||[],isSkeleton:n,error:E}),g("div",{className:"w-full flex flex-wrap dark:text-neutral-200",children:[n&&Array.from("iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii").map((r,i)=>t($,{height:"38px",className:"mr-2.5 mb-2",width:"90px"},i)),((e==null?void 0:e.tags.edges)||[]).map(r=>t(X,{tag:r.node,className:"mr-2 mb-2"},r.node.id))]}),(e==null?void 0:e.tags.pageInfo.hasNextPage)&&t("div",{className:"flex justify-center mt-8 sm:mt-10 lg:mt-14",children:t(A,{loading:m,onClick:h,children:a.showMeMore})})]})},re=({searchText:d,onUpdateTotal:u})=>{const f=v`
    ${H}
  `;let p={first:10};d&&(p={first:10,search:d});const{loading:m,error:E,data:e,fetchMore:S}=I(f,{notifyOnNetworkStatusChange:!0,variables:p});P.useEffect(()=>{var r;typeof((r=e==null?void 0:e.users.pageInfo)==null?void 0:r.total)=="number"&&u(`${e==null?void 0:e.users.edges.length} ${a.authors}`||`0 ${a.author}`)},[e]);const l=(r,{fetchMoreResult:i})=>{var x,c,N;return(x=i==null?void 0:i.users)!=null&&x.edges.length?{...i,users:{...i.users,edges:[...(c=r==null?void 0:r.users)==null?void 0:c.edges,...(N=i==null?void 0:i.users)==null?void 0:N.edges]}}:r},h=()=>{if(!S)return;const r=e==null?void 0:e.users.edges.map(i=>i.node.userId);S({variables:{exclude:r},updateQuery:l})},n=m&&!(e!=null&&e.users.edges.length);return g("div",{className:"mt-8 lg:mt-10",children:[t(w,{data:(e==null?void 0:e.users.edges)||[],isSkeleton:n,error:E}),g("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-x-2.5 gap-y-4 sm:gap-6 2xl:gap-8 ",children:[n&&Array.from("iiiiiiiiiiiiiiiiiiii").map((r,i)=>t(Z,{},i)),((e==null?void 0:e.users.edges)||[]).map(r=>t(J,{author:r.node},r.node.id))]}),(e==null?void 0:e.users.pageInfo.hasNextPage)&&t("div",{className:"flex justify-center mt-8 sm:mt-10 lg:mt-14",children:t(A,{loading:m,onClick:h,children:a.showMeMore})})]})},k=window.frontendObject.isActivePluginFavorites?[{name:a.filters,value:""},{name:a.mostRecent,value:"DATE"},{name:a.mostLiked,value:"FAVORITES_COUNT"},{name:a.mostDiscussed,value:"COMMENT_COUNT"},{name:a.mostViewed,value:"VIEWS_COUNT"}]:[{name:a.filters,value:""},{name:a.mostRecent,value:"DATE"},{name:a.mostDiscussed,value:"COMMENT_COUNT"},{name:a.mostViewed,value:"VIEWS_COUNT"}],O=["Articles","Categories","Tags","Authors"],ut=({className:d="",sectionCategoriesTrending:u,searchQuery:b,listSuggestions:f,headerBackgroundImg:p})=>{const[m,E]=P.useState(k[0].value),[e,S]=P.useState(O[0]),[l,h]=P.useState(""),[n,r]=P.useState(b);P.useEffect(()=>{const s=window.location.search,o=new URLSearchParams(s),C=o.get("orderBy"),y=o.get("tab");["","COMMENT_COUNT","DATE","FAVORITES_COUNT","VIEWS_COUNT"].includes(C)&&E(C||""),y&&O.includes(y)&&S(y)},[]),P.useEffect(()=>{const s=document.getElementById("ncmaz-search-input");s&&(s.value=n)},[n]);const i=s=>{E(s.value),c(n,e,s.value)},x=s=>{s!==e&&(S(s),s==="Articles"?c(n,s,m):c(n,s))},c=(s,o,C)=>{let y=new URLSearchParams(window.location.search);y.set("s",s),y.set("tab",o),o==="Articles"&&C?y.set("orderBy",C):y.delete("orderBy"),history.replaceState(null,"",`?${y.toString()}`)},N=s=>{var C;s.preventDefault();const o=(C=document.getElementById("ncmaz-search-input"))==null?void 0:C.value;r(o),e==="Articles"?c(o,e,m):c(o,e)},_=()=>g("div",{className:"w-full",children:[t("div",{className:"relative aspect-w-16 aspect-h-9 sm:aspect-h-6 lg:aspect-h-5 xl:aspect-h-4 2xl:aspect-h-3",children:t(F,{containerClassName:"absolute inset-0",src:p.url||frontendObject.authorPageCoverImgDefault||"https://images.pexels.com/photos/2138922/pexels-photo-2138922.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260",className:"object-cover w-full h-full"})}),t("div",{className:"relative px-1 sm:container -mt-20 lg:-mt-40",children:t("div",{className:" bg-white dark:bg-neutral-900 dark:border dark:border-neutral-700 p-4 sm:p-5 lg:p-12 rounded-lg sm:rounded-3xl lg:rounded-[32px] shadow-xl flex items-center",children:g("header",{className:"w-full max-w-3xl mx-auto text-center flex flex-col items-center",children:[t("h1",{className:"text-xl sm:text-3xl md:text-4xl font-semibold",children:n||'" "'}),l?t("div",{className:"text-xs sm:text-sm mt-4 text-neutral-500 dark:text-neutral-300",dangerouslySetInnerHTML:{__html:l}}):t("div",{className:"flex-shrink w-full max-w-md mt-4 text-sm",children:t($,{})}),t("form",{className:"relative w-full mt-5 sm:mt-8 md:mt-11 text-left",method:"post",onSubmit:N,children:g("label",{htmlFor:"search-input",className:"text-neutral-500 dark:text-neutral-300",children:[t("span",{className:"sr-only",children:"Search all icons"}),t(G,{id:"ncmaz-search-input",type:"search",placeholder:a.typeAndPressEnter,sizeClass:"pl-10 sm:pl-14 py-4 sm:py-5 pr-4 sm:pr-5 md:pl-16",className:"placeholder:text-sm",defaultValue:n}),t(M,{className:"absolute right-1.5 sm:right-2.5 top-1/2 transform -translate-y-1/2",size:" w-11 h-11",type:"submit",children:t("i",{className:"las la-arrow-right text-xl"})}),t("span",{className:"absolute left-3 sm:left-5 top-1/2 transform -translate-y-1/2 text-2xl md:left-6",children:t("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:t("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M19.25 19.25L15.5 15.5M4.75 11C4.75 7.54822 7.54822 4.75 11 4.75C14.4518 4.75 17.25 7.54822 17.25 11C17.25 14.4518 14.4518 17.25 11 17.25C7.54822 17.25 4.75 14.4518 4.75 11Z"})})})]})}),f&&f.length?t("div",{className:"w-full text-sm text-left mt-4 text-neutral-500 dark:text-neutral-300",children:g("div",{className:"inline-block text-primary-500",children:[g("span",{className:"mr-2.5 text-neutral-700 dark:text-neutral-300",children:[a.suggestions,":"]}),f.map((s,o)=>t("p",{className:"mr-2.5 inline-block cursor-pointer",onClick:()=>r(s),children:s},o))]})}):null]})})})]}),T=()=>{let s=` ${a.wereFoundForKeyword} <strong>${n||'" "'}</strong>`;switch(e){case"Articles":return t(ee,{orderByState:m,searchText:n,onUpdateTotal:o=>{s=`<strong>${o}</strong>`+s,h(s)}});case"Categories":return t(R,{onUpdateTotal:o=>{s=`<strong>${o}</strong>`+s,h(s)},searchText:n});case"Tags":return t(te,{onUpdateTotal:o=>{s=`<strong>${o}</strong>`+s,h(s)},searchText:n});case"Authors":return t(re,{onUpdateTotal:o=>{s=`<strong>${o}</strong>`+s,h(s),h(s)},searchText:n});default:return null}};return g("div",{className:`nc-PageSearch overflow-hidden ${d}`,"data-nc-id":"PageSearch",children:[_(),g("div",{className:"container py-16 lg:pb-24 lg:pt-20 space-y-16 lg:space-y-24",children:[g("div",{children:[g("div",{className:"flex flex-col sm:items-center sm:justify-between sm:flex-row",children:[t(D,{containerClassName:"w-full overflow-x-auto hiddenScrollbar",className:"sm:space-x-2",children:O.map((s,o)=>g(Q,{isActive:e===s,onClick:()=>x(s),children:[s==="Articles"&&a.articles,s==="Authors"&&a.authors,s==="Categories"&&a.categories,s==="Tags"&&a.tags]},o))}),t("div",{className:"block my-4 border-b w-full border-neutral-100 dark:border-neutral-6000 sm:hidden"}),e==="Articles"?t("div",{className:"flex justify-end",children:t(B,{lists:k,onChangeSelect:i,defaultValue:m})}):null]}),T()]}),u.enable&&t(U,{...u,isCategory:!1})]})]})};export{ut as default};
