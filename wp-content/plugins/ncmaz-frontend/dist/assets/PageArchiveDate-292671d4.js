import{r as N,j as t,a as m,N as I}from"./main-01589982.js";import{M as O,a as L,A as k}from"./PageArchive-d31b5440.js";import{B as D}from"./ButtonPrimary-7b9ce8b4.js";import{A as j,a as F,S as U}from"./ArchiveGridPost-cd33a26d.js";import{P as V}from"./queryGraphql-58383481.js";import{D as q}from"./DataStatementBlockV2-5007f6a0.js";import{b as G,c as Q}from"./useQuery-2326dd90.js";import"./NcModal-42d0aa76.js";import"./Button-d1fff97b.js";import"./twFocusClass-d0735f61.js";import"./ButtonClose-46908ee4.js";import"./transition-c5ae4969.js";import"./use-owner-4bb5aead.js";import"./dialog-c077491e.js";import"./CardCategory1Skeleton-a1084ba9.js";import"./NcImage-befadaec.js";import"./getImageSizesBySizeName-22c25ac1.js";import"./index-0c588460.js";import"./useLazyQuery-f7f1f4cb.js";import"./Tag-82d8b167.js";import"./useWindowSize-e7f502a5.js";import"./menu-8d10a083.js";import"./BackgroundSection-f1af2e57.js";import"./SectionGridCategoryBox-1942c42b.js";import"./CardCategory5Skeleton-3bfb8c40.js";import"./Badge-126d3422.js";import"./Heading-8e8fa951.js";import"./NextPrev-10599e1e.js";import"./Card7Skeleton-375650e1.js";import"./Avatar-e46ae567.js";import"./contants-3c5f400b.js";import"./contantsCommon-3b0e63b7.js";import"./PostCardMeta-4fa2bae8.js";import"./formatDate-dfe39bf7.js";import"./PostTypeFeaturedIcon-f1f09999.js";import"./CategoryBadgeList-87f3b9ef.js";import"./SocialsShare-7f8eccda.js";import"./SocialShareItem-24d6d915.js";import"./PostCardLikeAndComment-fcd151a8.js";import"./PostCardLikeAction-813d8440.js";import"./PostCardDropdownShare-48c067a7.js";import"./NcDropDown-b9381a6a.js";import"./checkPostStandHasFeaturedImage-07d23d31.js";import"./CardAuthor2-e5d1b032.js";import"./PostFeaturedMedia-db84e141.js";import"./useIntersectionObserver-8d200e88.js";import"./index-b8b43c8a.js";import"./ButtonPlayMusicRunningContainer-80762dbc.js";import"./LoadingVideo-66b8164f.js";import"./Card10Skeleton-c1662d20.js";import"./Card11-37890797.js";import"./PostMoreActionDropdown-e7a59822.js";import"./ButtonPrimaryDanger-9c37c9e4.js";import"./ButtonSecondary-a2b42169.js";import"./Card11Skeleton-14ab7f45.js";import"./Card13Skeleton-d2aa466b.js";import"./Card17PodcastSkeleton-e6be3a38.js";import"./Card2Skeleton-881d2b5b.js";import"./Card6-91b25b63.js";import"./Card6Skeleton-4e59c3a1.js";import"./Card8Skeleton-efc87d91.js";import"./Card9-683ec8f1.js";import"./Card9Skeleton-d94b033f.js";import"./EmptyState-8d3ff74e.js";const x=k,Rr=({className:E="",day:T,monthnum:C,year:_,sectionCategoriesTrending:n,pageTitle:A})=>{var P,f;const p=((P=frontendObject.allSettings)==null?void 0:P.readingSettingsPostsPerPage)||20,[l,c]=N.useState(x[0].value);N.useEffect(()=>{const o=window.location.search,e=new URLSearchParams(o).get("orderBy");!e||!["COMMENT_COUNT","DATE","FAVORITES_COUNT","VIEWS_COUNT"].includes(e)||c(e||"DATE")},[]);let d={};d={order:"DESC",field:l,first:p,month:C,day:T,year:_};const v=G`
    ${V}
  `,{loading:g,error:b,data:i,fetchMore:S}=Q(v,{notifyOnNetworkStatusChange:!0,variables:d}),a=(i==null?void 0:i.posts.edges)||[],u=(o,{fetchMoreResult:r})=>{var e,s,h;return(e=r==null?void 0:r.posts)!=null&&e.edges.length?{...r,posts:{...r.posts,edges:[...(s=o==null?void 0:o.posts)==null?void 0:s.edges,...(h=r==null?void 0:r.posts)==null?void 0:h.edges]}}:o},w=o=>{c(o.value);let r=new URLSearchParams(window.location.search);r.set("orderBy",o.value),history.replaceState(null,"",`?${r.toString()}`)},B=()=>{if(!S)return;const o=a.map(r=>r.node.postId);S({variables:{first:p,notIn:o},updateQuery:u})},y=g&&!a.length;return t("div",{className:`nc-PageArchiveDate ${E}`,"data-nc-id":"PageArchiveDate",children:m("div",{className:"container py-16 lg:py-28 space-y-16 lg:space-y-28",children:[m("div",{children:[t("h1",{className:"inline-block max-w-screen-2xl text-4xl font-semibold md:text-5xl",dangerouslySetInnerHTML:{__html:A}}),m("div",{className:"mt-14 flex flex-col sm:items-center sm:justify-between sm:flex-row",children:[m("div",{className:"flex space-x-2.5",children:[t(O,{}),t(L,{})]}),t("div",{className:"block my-4 border-b w-full border-neutral-100 sm:hidden"}),t("div",{className:"flex justify-end",children:t(j,{onChangeSelect:w,lists:x,defaultValue:l})})]}),t(q,{className:"my-5",data:a,error:b,isSkeleton:y}),t(F,{is_skeleton:y,posts:a}),((f=i==null?void 0:i.posts.pageInfo)==null?void 0:f.hasNextPage)&&t("div",{className:"flex justify-center mt-8 sm:mt-10 lg:mt-14",children:t(D,{onClick:B,loading:g,children:I.showMeMore})})]}),n.enable&&t(U,{...n,isCategory:!1})]})})};export{Rr as default};
